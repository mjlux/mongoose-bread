"use strict";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return(b=_toPropertyKey(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==typeof b?b:b+""}function _toPrimitive(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var helperFactory=require("./factories/helperFactory"),browseFactory=require("./factories/browseFactory"),readFactory=require("./factories/readFactory"),editFactory=require("./factories/editFactory"),addFactory=require("./factories/addFactory"),destroyFactory=require("./factories/destroyFactory"),softDeleteFactory=require("./factories/softDeleteFactory"),rehabilitateFactory=require("./factories/rehabilitateFactory"),_require=require("./RequestValidator"),checkSchema=_require.checkSchema,defaultPluginOptions={defaultPageSize:10,maxPageSize:100,searchableFields:[],enableAtlasSearch:!1,atlasSearchIndex:"",blacklistedFields:[],paramsIdKey:"id",bulkIdsKey:"_ids",bulkDocsKey:"_docs",runUpdateTransaction:!1,runUpdateValidators:!0,softDelete:!1,softDeleteOptions:{overrideMethods:!0,validateBeforeDelete:!0,indexFields:!0,deletedAt:!0,deletedBy:!1,requestUserIdPath:""},select:"",projection:{},collation:{},pagination:!0,allowDiskUse:!1,forceCountFn:!1,useCustomCountFn:!1,useEstimatedCount:!1,lean:!1,leanWithId:!1,leanWithout_id:!1,customFind:"find",customLabels:{docs:"docs",limit:"limit",page:"page",pagingCounter:"pagingCounter",hasNextPage:"hasNextPage",hasPrevPage:"hasPrevPage",nextPage:"nextPage",prevPage:"prevPage",totalDocs:"totalDocs",totalPages:"totalPages",meta:"pagination",acknowledged:"acknowledged",modifiedCount:"modifiedCount",deletedCount:"deletedCount",createdCount:"createdCount",readCount:"readCount"}},mongooseBread=function(a,b){var c=mongooseBread.options||{},d=_objectSpread(_objectSpread(_objectSpread({},defaultPluginOptions.softDeleteOptions),c.softDeleteOptions),b.softDeleteOptions),e=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},defaultPluginOptions),c),b),{},{softDeleteOptions:d}),f=e.searchableFields;if(f&&f.length&&(e.searchableFields=checkSchema(a).getSearchableFieldsOfTypeString(f)),checkSchema(a).hasMongoosePaginateV2AlreadyInstalled("index.js"),a.plugin(require("mongoose-paginate-v2")),a.statics.browse=browseFactory(e),a.statics.read=readFactory(e),a.statics.edit=editFactory(e),a.statics.add=addFactory(e),a.statics.destroy=destroyFactory(e),e.runUpdateValidators&&(a.pre("findOneAndUpdate",function(){this.setOptions({runValidators:!0})}),a.pre("updateMany",function(){this.setOptions({runValidators:!0})}),a.pre("updateOne",function(){this.setOptions({runValidators:!0})}),a.pre("update",function(){this.setOptions({runValidators:!0})})),e.softDelete){checkSchema(a).hasMongooseDeleteAlreadyInstalled("index.js");var g=e.softDeleteOptions;if(g.overrideMethods=!0,g.indexFields){var h=g.deletedBy,i=g.requestUserIdPath;g.deletedBy=h&&i&&"string"==typeof i;var j=["deleted"];g.deletedAt&&j.push("deletedAt"),g.deletedBy&&j.push("deletedBy"),g.indexFields=j}a.plugin(require("mongoose-delete"),g),a.statics.softDelete=softDeleteFactory(e),a.statics.rehabilitate=rehabilitateFactory(e)}a.statics.breadHelper=function(){return helperFactory(a,e)}};module.exports=mongooseBread,module.exports.mongooseBread=mongooseBread,module.exports.MongooseBreadError=require("./MongooseBreadError");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoZWxwZXJGYWN0b3J5IiwicmVxdWlyZSIsImJyb3dzZUZhY3RvcnkiLCJyZWFkRmFjdG9yeSIsImVkaXRGYWN0b3J5IiwiYWRkRmFjdG9yeSIsImRlc3Ryb3lGYWN0b3J5Iiwic29mdERlbGV0ZUZhY3RvcnkiLCJyZWhhYmlsaXRhdGVGYWN0b3J5IiwiX3JlcXVpcmUiLCJjaGVja1NjaGVtYSIsImRlZmF1bHRQbHVnaW5PcHRpb25zIiwiZGVmYXVsdFBhZ2VTaXplIiwibWF4UGFnZVNpemUiLCJzZWFyY2hhYmxlRmllbGRzIiwiZW5hYmxlQXRsYXNTZWFyY2giLCJhdGxhc1NlYXJjaEluZGV4IiwiYmxhY2tsaXN0ZWRGaWVsZHMiLCJwYXJhbXNJZEtleSIsImJ1bGtJZHNLZXkiLCJidWxrRG9jc0tleSIsInJ1blVwZGF0ZVRyYW5zYWN0aW9uIiwicnVuVXBkYXRlVmFsaWRhdG9ycyIsInNvZnREZWxldGUiLCJzb2Z0RGVsZXRlT3B0aW9ucyIsIm92ZXJyaWRlTWV0aG9kcyIsInZhbGlkYXRlQmVmb3JlRGVsZXRlIiwiaW5kZXhGaWVsZHMiLCJkZWxldGVkQXQiLCJkZWxldGVkQnkiLCJyZXF1ZXN0VXNlcklkUGF0aCIsInNlbGVjdCIsInByb2plY3Rpb24iLCJjb2xsYXRpb24iLCJwYWdpbmF0aW9uIiwiYWxsb3dEaXNrVXNlIiwiZm9yY2VDb3VudEZuIiwidXNlQ3VzdG9tQ291bnRGbiIsInVzZUVzdGltYXRlZENvdW50IiwibGVhbiIsImxlYW5XaXRoSWQiLCJsZWFuV2l0aG91dF9pZCIsImN1c3RvbUZpbmQiLCJjdXN0b21MYWJlbHMiLCJkb2NzIiwibGltaXQiLCJwYWdlIiwicGFnaW5nQ291bnRlciIsImhhc05leHRQYWdlIiwiaGFzUHJldlBhZ2UiLCJuZXh0UGFnZSIsInByZXZQYWdlIiwidG90YWxEb2NzIiwidG90YWxQYWdlcyIsIm1ldGEiLCJhY2tub3dsZWRnZWQiLCJtb2RpZmllZENvdW50IiwiZGVsZXRlZENvdW50IiwiY3JlYXRlZENvdW50IiwicmVhZENvdW50IiwibW9uZ29vc2VCcmVhZCIsInNjaGVtYSIsInBsdWdpbk9wdGlvbnMiLCJtb25nb29zZUJyZWFkT3B0aW9ucyIsIm9wdGlvbnMiLCJfc29mdERlbGV0ZU9wdGlvbnMiLCJfb2JqZWN0U3ByZWFkIiwiX3BsdWdpbk9wdGlvbnMiLCJsZW5ndGgiLCJnZXRTZWFyY2hhYmxlRmllbGRzT2ZUeXBlU3RyaW5nIiwiaGFzTW9uZ29vc2VQYWdpbmF0ZVYyQWxyZWFkeUluc3RhbGxlZCIsInBsdWdpbiIsInN0YXRpY3MiLCJicm93c2UiLCJyZWFkIiwiZWRpdCIsImFkZCIsImRlc3Ryb3kiLCJwcmUiLCJzZXRPcHRpb25zIiwicnVuVmFsaWRhdG9ycyIsImhhc01vbmdvb3NlRGVsZXRlQWxyZWFkeUluc3RhbGxlZCIsInB1c2giLCJyZWhhYmlsaXRhdGUiLCJicmVhZEhlbHBlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJNb25nb29zZUJyZWFkRXJyb3IiXSwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2NoZW1hIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IGhlbHBlckZhY3RvcnkgPSByZXF1aXJlKFwiLi9mYWN0b3JpZXMvaGVscGVyRmFjdG9yeVwiKTtcbmNvbnN0IGJyb3dzZUZhY3RvcnkgPSByZXF1aXJlKFwiLi9mYWN0b3JpZXMvYnJvd3NlRmFjdG9yeVwiKTtcbmNvbnN0IHJlYWRGYWN0b3J5ID0gcmVxdWlyZShcIi4vZmFjdG9yaWVzL3JlYWRGYWN0b3J5XCIpO1xuY29uc3QgZWRpdEZhY3RvcnkgPSByZXF1aXJlKFwiLi9mYWN0b3JpZXMvZWRpdEZhY3RvcnlcIik7XG5jb25zdCBhZGRGYWN0b3J5ID0gcmVxdWlyZShcIi4vZmFjdG9yaWVzL2FkZEZhY3RvcnlcIik7XG5jb25zdCBkZXN0cm95RmFjdG9yeSA9IHJlcXVpcmUoXCIuL2ZhY3Rvcmllcy9kZXN0cm95RmFjdG9yeVwiKTtcbmNvbnN0IHNvZnREZWxldGVGYWN0b3J5ID0gcmVxdWlyZShcIi4vZmFjdG9yaWVzL3NvZnREZWxldGVGYWN0b3J5XCIpO1xuY29uc3QgcmVoYWJpbGl0YXRlRmFjdG9yeSA9IHJlcXVpcmUoXCIuL2ZhY3Rvcmllcy9yZWhhYmlsaXRhdGVGYWN0b3J5XCIpO1xuY29uc3QgeyBjaGVja1NjaGVtYSB9ID0gcmVxdWlyZShcIi4vUmVxdWVzdFZhbGlkYXRvclwiKTtcblxuY29uc3QgZGVmYXVsdFBsdWdpbk9wdGlvbnM6IE1vbmdvb3NlQnJlYWRPcHRpb25zID0ge1xuXHRkZWZhdWx0UGFnZVNpemU6IDEwLFxuXHRtYXhQYWdlU2l6ZTogMTAwLFxuXHRzZWFyY2hhYmxlRmllbGRzOiBbXSxcblx0ZW5hYmxlQXRsYXNTZWFyY2g6IGZhbHNlLFxuXHRhdGxhc1NlYXJjaEluZGV4OiBcIlwiLFxuXHRibGFja2xpc3RlZEZpZWxkczogW10sXG5cdHBhcmFtc0lkS2V5OiBcImlkXCIsXG5cdGJ1bGtJZHNLZXk6IFwiX2lkc1wiLFxuXHRidWxrRG9jc0tleTogXCJfZG9jc1wiLFxuXHRydW5VcGRhdGVUcmFuc2FjdGlvbjogZmFsc2UsXG5cdHJ1blVwZGF0ZVZhbGlkYXRvcnM6IHRydWUsXG5cdHNvZnREZWxldGU6IGZhbHNlLFxuXHRzb2Z0RGVsZXRlT3B0aW9uczoge1xuXHRcdG92ZXJyaWRlTWV0aG9kczogdHJ1ZSxcblx0XHR2YWxpZGF0ZUJlZm9yZURlbGV0ZTogdHJ1ZSxcblx0XHRpbmRleEZpZWxkczogdHJ1ZSxcblx0XHRkZWxldGVkQXQ6IHRydWUsXG5cdFx0ZGVsZXRlZEJ5OiBmYWxzZSxcblx0XHRyZXF1ZXN0VXNlcklkUGF0aDogXCJcIixcblx0fSxcblxuXHQvKiBJbmhlcml0ZWQgZnJvbSBtb25nb29zZS1wYWdpbmF0ZS12MiAqL1xuXHRzZWxlY3Q6IFwiXCIsXG5cdHByb2plY3Rpb246IHt9LFxuXHRjb2xsYXRpb246IHt9LFxuXHRwYWdpbmF0aW9uOiB0cnVlLFxuXHRhbGxvd0Rpc2tVc2U6IGZhbHNlLFxuXHRmb3JjZUNvdW50Rm46IGZhbHNlLFxuXHR1c2VDdXN0b21Db3VudEZuOiBmYWxzZSxcblx0dXNlRXN0aW1hdGVkQ291bnQ6IGZhbHNlLFxuXHRsZWFuOiBmYWxzZSxcblx0bGVhbldpdGhJZDogZmFsc2UsIC8vIG92ZXJyaWRlIG1vbmdvb3NlLXBhZ2luYXRlLXYyIGRlZmF1bHQgLSB3YXMgdHJ1ZVxuXHRsZWFuV2l0aG91dF9pZDogZmFsc2UsIC8vIGFkZGl0aW9uYWwgbW9uZ29vc2UtYnJlYWQgb3B0aW9uIHRvIHJlbW92ZSAnX2lkJyBmcm9tIGxlYW4gcmVzdWx0c1xuXHRjdXN0b21GaW5kOiBcImZpbmRcIixcblx0Y3VzdG9tTGFiZWxzOiB7XG5cdFx0ZG9jczogXCJkb2NzXCIsXG5cdFx0bGltaXQ6IFwibGltaXRcIixcblx0XHRwYWdlOiBcInBhZ2VcIixcblx0XHRwYWdpbmdDb3VudGVyOiBcInBhZ2luZ0NvdW50ZXJcIixcblx0XHRoYXNOZXh0UGFnZTogXCJoYXNOZXh0UGFnZVwiLFxuXHRcdGhhc1ByZXZQYWdlOiBcImhhc1ByZXZQYWdlXCIsXG5cdFx0bmV4dFBhZ2U6IFwibmV4dFBhZ2VcIixcblx0XHRwcmV2UGFnZTogXCJwcmV2UGFnZVwiLFxuXHRcdHRvdGFsRG9jczogXCJ0b3RhbERvY3NcIixcblx0XHR0b3RhbFBhZ2VzOiBcInRvdGFsUGFnZXNcIixcblx0XHRtZXRhOiBcInBhZ2luYXRpb25cIixcblx0XHRhY2tub3dsZWRnZWQ6IFwiYWNrbm93bGVkZ2VkXCIsXG5cdFx0bW9kaWZpZWRDb3VudDogXCJtb2RpZmllZENvdW50XCIsXG5cdFx0ZGVsZXRlZENvdW50OiBcImRlbGV0ZWRDb3VudFwiLFxuXHRcdGNyZWF0ZWRDb3VudDogXCJjcmVhdGVkQ291bnRcIixcblx0XHRyZWFkQ291bnQ6IFwicmVhZENvdW50XCIsXG5cdH0sXG59O1xuXG5jb25zdCBtb25nb29zZUJyZWFkOiBNb25nb29zZUJyZWFkUGx1Z2luID0gZnVuY3Rpb24gKHNjaGVtYTogU2NoZW1hLCBwbHVnaW5PcHRpb25zOiBQYXJ0aWFsPE1vbmdvb3NlQnJlYWRPcHRpb25zPikge1xuXHRjb25zdCBtb25nb29zZUJyZWFkT3B0aW9ucyA9IG1vbmdvb3NlQnJlYWQub3B0aW9ucyB8fCB7fTtcblxuXHRjb25zdCBfc29mdERlbGV0ZU9wdGlvbnMgPSB7XG5cdFx0Li4uZGVmYXVsdFBsdWdpbk9wdGlvbnMuc29mdERlbGV0ZU9wdGlvbnMsXG5cdFx0Li4ubW9uZ29vc2VCcmVhZE9wdGlvbnMuc29mdERlbGV0ZU9wdGlvbnMsXG5cdFx0Li4ucGx1Z2luT3B0aW9ucy5zb2Z0RGVsZXRlT3B0aW9ucyxcblx0fTtcblxuXHRjb25zdCBfcGx1Z2luT3B0aW9ucyA9IHtcblx0XHQuLi5kZWZhdWx0UGx1Z2luT3B0aW9ucyxcblx0XHQuLi5tb25nb29zZUJyZWFkT3B0aW9ucyxcblx0XHQuLi5wbHVnaW5PcHRpb25zLFxuXHRcdHNvZnREZWxldGVPcHRpb25zOiBfc29mdERlbGV0ZU9wdGlvbnMsXG5cdH07XG5cblx0Ly8gdmFsaWRhdGUgc2VhcmNoYWJsZUZpZWxkcyAtIGlmIGVuYWJsZWRcblx0Y29uc3QgeyBzZWFyY2hhYmxlRmllbGRzIH0gPSBfcGx1Z2luT3B0aW9ucztcblx0aWYgKHNlYXJjaGFibGVGaWVsZHMgJiYgc2VhcmNoYWJsZUZpZWxkcy5sZW5ndGgpIHtcblx0XHRfcGx1Z2luT3B0aW9ucy5zZWFyY2hhYmxlRmllbGRzID0gY2hlY2tTY2hlbWEoc2NoZW1hKS5nZXRTZWFyY2hhYmxlRmllbGRzT2ZUeXBlU3RyaW5nKHNlYXJjaGFibGVGaWVsZHMpO1xuXHR9XG5cdC8vIHJlZ2lzdGVyIG1vbmdvb3NlLXBhZ2luYXRlLXYyIGRlcGVuZGVuY3lcblx0Y2hlY2tTY2hlbWEoc2NoZW1hKS5oYXNNb25nb29zZVBhZ2luYXRlVjJBbHJlYWR5SW5zdGFsbGVkKFwiaW5kZXguanNcIik7XG5cdHNjaGVtYS5wbHVnaW4ocmVxdWlyZShcIm1vbmdvb3NlLXBhZ2luYXRlLXYyXCIpKTtcblxuXHQvLyByZWdpc3RlciBQbHVnaW4gbWV0aG9kc1xuXHRzY2hlbWEuc3RhdGljcy5icm93c2UgPSBicm93c2VGYWN0b3J5KF9wbHVnaW5PcHRpb25zKTtcblx0c2NoZW1hLnN0YXRpY3MucmVhZCA9IHJlYWRGYWN0b3J5KF9wbHVnaW5PcHRpb25zKTtcblx0c2NoZW1hLnN0YXRpY3MuZWRpdCA9IGVkaXRGYWN0b3J5KF9wbHVnaW5PcHRpb25zKTtcblx0c2NoZW1hLnN0YXRpY3MuYWRkID0gYWRkRmFjdG9yeShfcGx1Z2luT3B0aW9ucyk7XG5cdHNjaGVtYS5zdGF0aWNzLmRlc3Ryb3kgPSBkZXN0cm95RmFjdG9yeShfcGx1Z2luT3B0aW9ucyk7XG5cblx0Ly8gYWRkIHJ1blZhbGlkYXRvcnMgb3B0aW9uIHRvIHVwZGF0ZSBob29rc1xuXHRpZiAoX3BsdWdpbk9wdGlvbnMucnVuVXBkYXRlVmFsaWRhdG9ycykge1xuXHRcdHNjaGVtYS5wcmUoXCJmaW5kT25lQW5kVXBkYXRlXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuc2V0T3B0aW9ucyh7IHJ1blZhbGlkYXRvcnM6IHRydWUgfSk7XG5cdFx0fSk7XG5cdFx0c2NoZW1hLnByZShcInVwZGF0ZU1hbnlcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5zZXRPcHRpb25zKHsgcnVuVmFsaWRhdG9yczogdHJ1ZSB9KTtcblx0XHR9KTtcblx0XHRzY2hlbWEucHJlKFwidXBkYXRlT25lXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuc2V0T3B0aW9ucyh7IHJ1blZhbGlkYXRvcnM6IHRydWUgfSk7XG5cdFx0fSk7XG5cdFx0c2NoZW1hLnByZShcInVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLnNldE9wdGlvbnMoeyBydW5WYWxpZGF0b3JzOiB0cnVlIH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gcmVnaXN0ZXIgb3B0aW9uYWwgbW9uZ29vc2UtZGVsZXRlIGRlcGVuZGVuY3lcblx0aWYgKF9wbHVnaW5PcHRpb25zLnNvZnREZWxldGUpIHtcblx0XHRjaGVja1NjaGVtYShzY2hlbWEpLmhhc01vbmdvb3NlRGVsZXRlQWxyZWFkeUluc3RhbGxlZChcImluZGV4LmpzXCIpO1xuXHRcdGNvbnN0IHsgc29mdERlbGV0ZU9wdGlvbnMgfSA9IF9wbHVnaW5PcHRpb25zO1xuXHRcdHNvZnREZWxldGVPcHRpb25zLm92ZXJyaWRlTWV0aG9kcyA9IHRydWU7XG5cdFx0aWYgKHNvZnREZWxldGVPcHRpb25zLmluZGV4RmllbGRzKSB7XG5cdFx0XHRjb25zdCB7IGRlbGV0ZWRCeSwgcmVxdWVzdFVzZXJJZFBhdGggfSA9IHNvZnREZWxldGVPcHRpb25zO1xuXHRcdFx0Y29uc3QgZGVsZXRlQnlJc1ZhbGlkID0gZGVsZXRlZEJ5ICYmIHJlcXVlc3RVc2VySWRQYXRoICYmIHR5cGVvZiByZXF1ZXN0VXNlcklkUGF0aCA9PSBcInN0cmluZ1wiO1xuXHRcdFx0c29mdERlbGV0ZU9wdGlvbnMuZGVsZXRlZEJ5ID0gZGVsZXRlQnlJc1ZhbGlkO1xuXHRcdFx0Y29uc3QgaW5kZXhGaWVsZHMgPSBbXCJkZWxldGVkXCJdO1xuXHRcdFx0aWYgKHNvZnREZWxldGVPcHRpb25zLmRlbGV0ZWRBdCkgaW5kZXhGaWVsZHMucHVzaChcImRlbGV0ZWRBdFwiKTtcblx0XHRcdGlmIChzb2Z0RGVsZXRlT3B0aW9ucy5kZWxldGVkQnkpIGluZGV4RmllbGRzLnB1c2goXCJkZWxldGVkQnlcIik7XG5cdFx0XHRzb2Z0RGVsZXRlT3B0aW9ucy5pbmRleEZpZWxkcyA9IGluZGV4RmllbGRzO1xuXHRcdH1cblx0XHRzY2hlbWEucGx1Z2luKHJlcXVpcmUoXCJtb25nb29zZS1kZWxldGVcIiksIHNvZnREZWxldGVPcHRpb25zKTtcblx0XHRzY2hlbWEuc3RhdGljcy5zb2Z0RGVsZXRlID0gc29mdERlbGV0ZUZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuXHRcdHNjaGVtYS5zdGF0aWNzLnJlaGFiaWxpdGF0ZSA9IHJlaGFiaWxpdGF0ZUZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuXHR9XG5cblx0Ly8gcmVnaXN0ZXIgSGVscGVyIEZ1bmN0aW9uc1xuXHRzY2hlbWEuc3RhdGljcy5icmVhZEhlbHBlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gaGVscGVyRmFjdG9yeShzY2hlbWEsIF9wbHVnaW5PcHRpb25zKTtcblx0fTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlQnJlYWQ7XG5tb2R1bGUuZXhwb3J0cy5tb25nb29zZUJyZWFkID0gbW9uZ29vc2VCcmVhZDtcbm1vZHVsZS5leHBvcnRzLk1vbmdvb3NlQnJlYWRFcnJvciA9IHJlcXVpcmUoXCIuL01vbmdvb3NlQnJlYWRFcnJvclwiKTtcbiJdLCJtYXBwaW5ncyI6Im1uQ0FFTSxDQUFBQSxhQUFhLENBQUdDLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQyxDQUNwREMsYUFBYSxDQUFHRCxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FDcERFLFdBQVcsQ0FBR0YsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQ2hERyxXQUFXLENBQUdILE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUNoREksVUFBVSxDQUFHSixPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FDOUNLLGNBQWMsQ0FBR0wsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQ3RETSxpQkFBaUIsQ0FBR04sT0FBTyxDQUFDLCtCQUErQixDQUFDLENBQzVETyxtQkFBbUIsQ0FBR1AsT0FBTyxDQUFDLGlDQUFpQyxDQUFDLENBQUFRLFFBQUEsQ0FDOUNSLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUE3Q1MsV0FBVyxDQUFBRCxRQUFBLENBQVhDLFdBQVcsQ0FFYkMsb0JBQTBDLENBQUcsQ0FDbERDLGVBQWUsQ0FBRSxFQUFFLENBQ25CQyxXQUFXLENBQUUsR0FBRyxDQUNoQkMsZ0JBQWdCLENBQUUsRUFBRSxDQUNwQkMsaUJBQWlCLEdBQU8sQ0FDeEJDLGdCQUFnQixDQUFFLEVBQUUsQ0FDcEJDLGlCQUFpQixDQUFFLEVBQUUsQ0FDckJDLFdBQVcsQ0FBRSxJQUFJLENBQ2pCQyxVQUFVLENBQUUs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
"use strict";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return(b=_toPropertyKey(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==typeof b?b:b+""}function _toPrimitive(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var helperFactory=require("./factories/helperFactory"),browseFactory=require("./factories/browseFactory"),readFactory=require("./factories/readFactory"),editFactory=require("./factories/editFactory"),addFactory=require("./factories/addFactory"),destroyFactory=require("./factories/destroyFactory"),softDeleteFactory=require("./factories/softDeleteFactory"),rehabilitateFactory=require("./factories/rehabilitateFactory"),_require=require("./RequestValidator"),checkSchema=_require.checkSchema,defaultPluginOptions={defaultPageSize:10,maxPageSize:100,searchableFields:[],enableAtlasSearch:!1,atlasSearchIndex:"",blacklistedFields:[],paramsIdKey:"id",bulkIdsKey:"_ids",bulkDocsKey:"_docs",runUpdateTransaction:!1,runUpdateValidators:!0,softDelete:!1,softDeleteOptions:{overrideMethods:!0,validateBeforeDelete:!0,indexFields:!0,deletedAt:!0,deletedBy:!1,requestUserIdPath:""},select:"",projection:{},collation:{},pagination:!0,allowDiskUse:!1,forceCountFn:!1,useCustomCountFn:!1,useEstimatedCount:!1,lean:!1,leanWithId:!1,leanWithout_id:!1,customFind:"find",customLabels:{docs:"docs",limit:"limit",page:"page",pagingCounter:"pagingCounter",hasNextPage:"hasNextPage",hasPrevPage:"hasPrevPage",nextPage:"nextPage",prevPage:"prevPage",totalDocs:"totalDocs",totalPages:"totalPages",meta:"pagination",acknowledged:"acknowledged",modifiedCount:"modifiedCount",deletedCount:"deletedCount",createdCount:"createdCount",readCount:"readCount"}},mongooseBread=function(a,b){var c=mongooseBread.options||{},d=_objectSpread(_objectSpread(_objectSpread({},defaultPluginOptions.softDeleteOptions),c.softDeleteOptions),b.softDeleteOptions),e=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},defaultPluginOptions),c),b),{},{softDeleteOptions:d}),f=e.searchableFields;if(f&&f.length&&(e.searchableFields=checkSchema(a).getSearchableFieldsOfTypeString(f)),checkSchema(a).hasMongoosePaginateV2AlreadyInstalled("index.js"),a.plugin(require("mongoose-paginate-v2")),a.statics.browse=browseFactory(e),a.statics.read=readFactory(e),a.statics.edit=editFactory(e),a.statics.add=addFactory(e),a.statics.destroy=destroyFactory(e),e.runUpdateValidators&&(a.pre("findOneAndUpdate",function(){this.setOptions({runValidators:!0})}),a.pre("updateMany",function(){this.setOptions({runValidators:!0})}),a.pre("updateOne",function(){this.setOptions({runValidators:!0})}),a.pre("update",function(){this.setOptions({runValidators:!0})})),e.softDelete){checkSchema(a).hasMongooseDeleteAlreadyInstalled("index.js");var g=e.softDeleteOptions;if(g.overrideMethods=!0,g.indexFields){var h=g.deletedBy,i=g.requestUserIdPath;g.deletedBy=h&&i&&"string"==typeof i;var j=["deleted"];g.deletedAt&&j.push("deletedAt"),g.deletedBy&&j.push("deletedBy"),g.indexFields=j}a.plugin(require("mongoose-delete"),g),a.statics.softDelete=softDeleteFactory(e),a.statics.rehabilitate=rehabilitateFactory(e)}a.statics.breadHelper=function(){return helperFactory(a,e)}},defaultGlobalPluginOptions={};mongooseBread.prototype.options=defaultGlobalPluginOptions,module.exports=mongooseBread,module.exports.mongooseBread=mongooseBread,module.exports.MongooseBreadError=require("./MongooseBreadError");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJoZWxwZXJGYWN0b3J5IiwicmVxdWlyZSIsImJyb3dzZUZhY3RvcnkiLCJyZWFkRmFjdG9yeSIsImVkaXRGYWN0b3J5IiwiYWRkRmFjdG9yeSIsImRlc3Ryb3lGYWN0b3J5Iiwic29mdERlbGV0ZUZhY3RvcnkiLCJyZWhhYmlsaXRhdGVGYWN0b3J5IiwiX3JlcXVpcmUiLCJjaGVja1NjaGVtYSIsImRlZmF1bHRQbHVnaW5PcHRpb25zIiwiZGVmYXVsdFBhZ2VTaXplIiwibWF4UGFnZVNpemUiLCJzZWFyY2hhYmxlRmllbGRzIiwiZW5hYmxlQXRsYXNTZWFyY2giLCJhdGxhc1NlYXJjaEluZGV4IiwiYmxhY2tsaXN0ZWRGaWVsZHMiLCJwYXJhbXNJZEtleSIsImJ1bGtJZHNLZXkiLCJidWxrRG9jc0tleSIsInJ1blVwZGF0ZVRyYW5zYWN0aW9uIiwicnVuVXBkYXRlVmFsaWRhdG9ycyIsInNvZnREZWxldGUiLCJzb2Z0RGVsZXRlT3B0aW9ucyIsIm92ZXJyaWRlTWV0aG9kcyIsInZhbGlkYXRlQmVmb3JlRGVsZXRlIiwiaW5kZXhGaWVsZHMiLCJkZWxldGVkQXQiLCJkZWxldGVkQnkiLCJyZXF1ZXN0VXNlcklkUGF0aCIsInNlbGVjdCIsInByb2plY3Rpb24iLCJjb2xsYXRpb24iLCJwYWdpbmF0aW9uIiwiYWxsb3dEaXNrVXNlIiwiZm9yY2VDb3VudEZuIiwidXNlQ3VzdG9tQ291bnRGbiIsInVzZUVzdGltYXRlZENvdW50IiwibGVhbiIsImxlYW5XaXRoSWQiLCJsZWFuV2l0aG91dF9pZCIsImN1c3RvbUZpbmQiLCJjdXN0b21MYWJlbHMiLCJkb2NzIiwibGltaXQiLCJwYWdlIiwicGFnaW5nQ291bnRlciIsImhhc05leHRQYWdlIiwiaGFzUHJldlBhZ2UiLCJuZXh0UGFnZSIsInByZXZQYWdlIiwidG90YWxEb2NzIiwidG90YWxQYWdlcyIsIm1ldGEiLCJhY2tub3dsZWRnZWQiLCJtb2RpZmllZENvdW50IiwiZGVsZXRlZENvdW50IiwiY3JlYXRlZENvdW50IiwicmVhZENvdW50IiwibW9uZ29vc2VCcmVhZCIsInNjaGVtYSIsInBsdWdpbk9wdGlvbnMiLCJtb25nb29zZUJyZWFkT3B0aW9ucyIsIm9wdGlvbnMiLCJfc29mdERlbGV0ZU9wdGlvbnMiLCJfb2JqZWN0U3ByZWFkIiwiX3BsdWdpbk9wdGlvbnMiLCJsZW5ndGgiLCJnZXRTZWFyY2hhYmxlRmllbGRzT2ZUeXBlU3RyaW5nIiwiaGFzTW9uZ29vc2VQYWdpbmF0ZVYyQWxyZWFkeUluc3RhbGxlZCIsInBsdWdpbiIsInN0YXRpY3MiLCJicm93c2UiLCJyZWFkIiwiZWRpdCIsImFkZCIsImRlc3Ryb3kiLCJwcmUiLCJzZXRPcHRpb25zIiwicnVuVmFsaWRhdG9ycyIsImhhc01vbmdvb3NlRGVsZXRlQWxyZWFkeUluc3RhbGxlZCIsInB1c2giLCJyZWhhYmlsaXRhdGUiLCJicmVhZEhlbHBlciIsImRlZmF1bHRHbG9iYWxQbHVnaW5PcHRpb25zIiwicHJvdG90eXBlIiwibW9kdWxlIiwiZXhwb3J0cyIsIk1vbmdvb3NlQnJlYWRFcnJvciJdLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgaGVscGVyRmFjdG9yeSA9IHJlcXVpcmUoXCIuL2ZhY3Rvcmllcy9oZWxwZXJGYWN0b3J5XCIpO1xuY29uc3QgYnJvd3NlRmFjdG9yeSA9IHJlcXVpcmUoXCIuL2ZhY3Rvcmllcy9icm93c2VGYWN0b3J5XCIpO1xuY29uc3QgcmVhZEZhY3RvcnkgPSByZXF1aXJlKFwiLi9mYWN0b3JpZXMvcmVhZEZhY3RvcnlcIik7XG5jb25zdCBlZGl0RmFjdG9yeSA9IHJlcXVpcmUoXCIuL2ZhY3Rvcmllcy9lZGl0RmFjdG9yeVwiKTtcbmNvbnN0IGFkZEZhY3RvcnkgPSByZXF1aXJlKFwiLi9mYWN0b3JpZXMvYWRkRmFjdG9yeVwiKTtcbmNvbnN0IGRlc3Ryb3lGYWN0b3J5ID0gcmVxdWlyZShcIi4vZmFjdG9yaWVzL2Rlc3Ryb3lGYWN0b3J5XCIpO1xuY29uc3Qgc29mdERlbGV0ZUZhY3RvcnkgPSByZXF1aXJlKFwiLi9mYWN0b3JpZXMvc29mdERlbGV0ZUZhY3RvcnlcIik7XG5jb25zdCByZWhhYmlsaXRhdGVGYWN0b3J5ID0gcmVxdWlyZShcIi4vZmFjdG9yaWVzL3JlaGFiaWxpdGF0ZUZhY3RvcnlcIik7XG5jb25zdCB7IGNoZWNrU2NoZW1hIH0gPSByZXF1aXJlKFwiLi9SZXF1ZXN0VmFsaWRhdG9yXCIpO1xuXG5jb25zdCBkZWZhdWx0UGx1Z2luT3B0aW9uczpNb25nb29zZUJyZWFkT3B0aW9ucyA9IHtcbiAgZGVmYXVsdFBhZ2VTaXplOiAxMCxcbiAgbWF4UGFnZVNpemU6IDEwMCxcbiAgc2VhcmNoYWJsZUZpZWxkczogW10sXG4gIGVuYWJsZUF0bGFzU2VhcmNoOiBmYWxzZSxcbiAgYXRsYXNTZWFyY2hJbmRleDogXCJcIixcbiAgYmxhY2tsaXN0ZWRGaWVsZHM6IFtdLFxuICBwYXJhbXNJZEtleTogXCJpZFwiLFxuICBidWxrSWRzS2V5OiBcIl9pZHNcIixcbiAgYnVsa0RvY3NLZXk6IFwiX2RvY3NcIixcbiAgcnVuVXBkYXRlVHJhbnNhY3Rpb246IGZhbHNlLFxuICBydW5VcGRhdGVWYWxpZGF0b3JzOiB0cnVlLFxuICBzb2Z0RGVsZXRlOiBmYWxzZSxcbiAgc29mdERlbGV0ZU9wdGlvbnM6IHtcbiAgICBvdmVycmlkZU1ldGhvZHM6IHRydWUsXG4gICAgdmFsaWRhdGVCZWZvcmVEZWxldGU6IHRydWUsXG4gICAgaW5kZXhGaWVsZHM6IHRydWUsXG4gICAgZGVsZXRlZEF0OiB0cnVlLFxuICAgIGRlbGV0ZWRCeTogZmFsc2UsXG4gICAgcmVxdWVzdFVzZXJJZFBhdGg6IFwiXCIsXG4gIH0sXG5cbiAgLyogSW5oZXJpdGVkIGZyb20gbW9uZ29vc2UtcGFnaW5hdGUtdjIgKi9cbiAgc2VsZWN0OiBcIlwiLFxuICBwcm9qZWN0aW9uOiB7fSxcbiAgY29sbGF0aW9uOiB7fSxcbiAgcGFnaW5hdGlvbjogdHJ1ZSxcbiAgYWxsb3dEaXNrVXNlOiBmYWxzZSxcbiAgZm9yY2VDb3VudEZuOiBmYWxzZSxcbiAgdXNlQ3VzdG9tQ291bnRGbjogZmFsc2UsXG4gIHVzZUVzdGltYXRlZENvdW50OiBmYWxzZSxcbiAgbGVhbjogZmFsc2UsXG4gIGxlYW5XaXRoSWQ6IGZhbHNlLCAvLyBvdmVycmlkZSBtb25nb29zZS1wYWdpbmF0ZS12MiBkZWZhdWx0IC0gd2FzIHRydWVcbiAgbGVhbldpdGhvdXRfaWQ6IGZhbHNlLCAvLyBhZGRpdGlvbmFsIG1vbmdvb3NlLWJyZWFkIG9wdGlvbiB0byByZW1vdmUgJ19pZCcgZnJvbSBsZWFuIHJlc3VsdHNcbiAgY3VzdG9tRmluZDogXCJmaW5kXCIsXG4gIGN1c3RvbUxhYmVsczoge1xuICAgIGRvY3M6IFwiZG9jc1wiLFxuICAgIGxpbWl0OiBcImxpbWl0XCIsXG4gICAgcGFnZTogXCJwYWdlXCIsXG4gICAgcGFnaW5nQ291bnRlcjogXCJwYWdpbmdDb3VudGVyXCIsXG4gICAgaGFzTmV4dFBhZ2U6IFwiaGFzTmV4dFBhZ2VcIixcbiAgICBoYXNQcmV2UGFnZTogXCJoYXNQcmV2UGFnZVwiLFxuICAgIG5leHRQYWdlOiBcIm5leHRQYWdlXCIsXG4gICAgcHJldlBhZ2U6IFwicHJldlBhZ2VcIixcbiAgICB0b3RhbERvY3M6IFwidG90YWxEb2NzXCIsXG4gICAgdG90YWxQYWdlczogXCJ0b3RhbFBhZ2VzXCIsXG4gICAgbWV0YTogXCJwYWdpbmF0aW9uXCIsXG4gICAgYWNrbm93bGVkZ2VkOiBcImFja25vd2xlZGdlZFwiLFxuICAgIG1vZGlmaWVkQ291bnQ6IFwibW9kaWZpZWRDb3VudFwiLFxuICAgIGRlbGV0ZWRDb3VudDogXCJkZWxldGVkQ291bnRcIixcbiAgICBjcmVhdGVkQ291bnQ6IFwiY3JlYXRlZENvdW50XCIsXG4gICAgcmVhZENvdW50OiBcInJlYWRDb3VudFwiLFxuICB9LFxufTtcbnR5cGUgTW9uZ29vc2VCcmVhZFBsdWdpbiA9IHtcbiAgb3B0aW9ucz86IFBhcnRpYWw8TW9uZ29vc2VCcmVhZE9wdGlvbnM+O1xuICAoc2NoZW1hOlNjaGVtYSwgcGx1Z2luT3B0aW9uczpQYXJ0aWFsPE1vbmdvb3NlQnJlYWRPcHRpb25zPik6IHZvaWQ7XG59O1xuY29uc3QgbW9uZ29vc2VCcmVhZDpNb25nb29zZUJyZWFkUGx1Z2luID0gZnVuY3Rpb24gKHNjaGVtYTpTY2hlbWEsIHBsdWdpbk9wdGlvbnM6UGFydGlhbDxNb25nb29zZUJyZWFkT3B0aW9ucz4gKSB7XG5cbiAgY29uc3QgbW9uZ29vc2VCcmVhZE9wdGlvbnMgPSBtb25nb29zZUJyZWFkLm9wdGlvbnMgfHwge307XG5cbiAgY29uc3QgX3NvZnREZWxldGVPcHRpb25zID0ge1xuICAgIC4uLmRlZmF1bHRQbHVnaW5PcHRpb25zLnNvZnREZWxldGVPcHRpb25zLFxuICAgIC4uLm1vbmdvb3NlQnJlYWRPcHRpb25zLnNvZnREZWxldGVPcHRpb25zLFxuICAgIC4uLnBsdWdpbk9wdGlvbnMuc29mdERlbGV0ZU9wdGlvbnMsXG4gIH07XG5cbiAgY29uc3QgX3BsdWdpbk9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdFBsdWdpbk9wdGlvbnMsXG4gICAgLi4ubW9uZ29vc2VCcmVhZE9wdGlvbnMsXG4gICAgLi4ucGx1Z2luT3B0aW9ucyxcbiAgICBzb2Z0RGVsZXRlT3B0aW9uczogX3NvZnREZWxldGVPcHRpb25zLFxuICB9O1xuXG4gIC8vIHZhbGlkYXRlIHNlYXJjaGFibGVGaWVsZHMgLSBpZiBlbmFibGVkXG4gIGNvbnN0IHsgc2VhcmNoYWJsZUZpZWxkcyB9ID0gX3BsdWdpbk9wdGlvbnM7XG4gIGlmIChzZWFyY2hhYmxlRmllbGRzICYmIHNlYXJjaGFibGVGaWVsZHMubGVuZ3RoKSB7XG4gICAgX3BsdWdpbk9wdGlvbnMuc2VhcmNoYWJsZUZpZWxkcyA9XG4gICAgICBjaGVja1NjaGVtYShzY2hlbWEpLmdldFNlYXJjaGFibGVGaWVsZHNPZlR5cGVTdHJpbmcoc2VhcmNoYWJsZUZpZWxkcyk7XG4gIH1cbiAgLy8gcmVnaXN0ZXIgbW9uZ29vc2UtcGFnaW5hdGUtdjIgZGVwZW5kZW5jeVxuICBjaGVja1NjaGVtYShzY2hlbWEpLmhhc01vbmdvb3NlUGFnaW5hdGVWMkFscmVhZHlJbnN0YWxsZWQoXCJpbmRleC5qc1wiKTtcbiAgc2NoZW1hLnBsdWdpbihyZXF1aXJlKFwibW9uZ29vc2UtcGFnaW5hdGUtdjJcIikpO1xuXG4gIC8vIHJlZ2lzdGVyIFBsdWdpbiBtZXRob2RzXG4gIHNjaGVtYS5zdGF0aWNzLmJyb3dzZSA9IGJyb3dzZUZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuICBzY2hlbWEuc3RhdGljcy5yZWFkID0gcmVhZEZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuICBzY2hlbWEuc3RhdGljcy5lZGl0ID0gZWRpdEZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuICBzY2hlbWEuc3RhdGljcy5hZGQgPSBhZGRGYWN0b3J5KF9wbHVnaW5PcHRpb25zKTtcbiAgc2NoZW1hLnN0YXRpY3MuZGVzdHJveSA9IGRlc3Ryb3lGYWN0b3J5KF9wbHVnaW5PcHRpb25zKTtcblxuICAvLyBhZGQgcnVuVmFsaWRhdG9ycyBvcHRpb24gdG8gdXBkYXRlIGhvb2tzXG4gIGlmIChfcGx1Z2luT3B0aW9ucy5ydW5VcGRhdGVWYWxpZGF0b3JzKSB7XG4gICAgc2NoZW1hLnByZSgnZmluZE9uZUFuZFVwZGF0ZScsIGZ1bmN0aW9uICgpIHsgdGhpcy5zZXRPcHRpb25zKHsgcnVuVmFsaWRhdG9yczogdHJ1ZSB9KTsgfSk7XG4gICAgc2NoZW1hLnByZSgndXBkYXRlTWFueScsIGZ1bmN0aW9uICgpIHsgdGhpcy5zZXRPcHRpb25zKHsgcnVuVmFsaWRhdG9yczogdHJ1ZSB9KTsgfSk7XG4gICAgc2NoZW1hLnByZSgndXBkYXRlT25lJywgZnVuY3Rpb24gKCkgeyB0aGlzLnNldE9wdGlvbnMoeyBydW5WYWxpZGF0b3JzOiB0cnVlIH0pOyB9KTtcbiAgICBzY2hlbWEucHJlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7IHRoaXMuc2V0T3B0aW9ucyh7IHJ1blZhbGlkYXRvcnM6IHRydWUgfSk7IH0pO1xuICB9XG5cbiAgLy8gcmVnaXN0ZXIgb3B0aW9uYWwgbW9uZ29vc2UtZGVsZXRlIGRlcGVuZGVuY3lcbiAgaWYgKF9wbHVnaW5PcHRpb25zLnNvZnREZWxldGUpIHtcbiAgICBjaGVja1NjaGVtYShzY2hlbWEpLmhhc01vbmdvb3NlRGVsZXRlQWxyZWFkeUluc3RhbGxlZChcImluZGV4LmpzXCIpO1xuICAgIGNvbnN0IHsgc29mdERlbGV0ZU9wdGlvbnMgfSA9IF9wbHVnaW5PcHRpb25zO1xuICAgIHNvZnREZWxldGVPcHRpb25zLm92ZXJyaWRlTWV0aG9kcyA9IHRydWU7XG4gICAgaWYgKHNvZnREZWxldGVPcHRpb25zLmluZGV4RmllbGRzKSB7XG4gICAgICBjb25zdCB7IGRlbGV0ZWRCeSwgcmVxdWVzdFVzZXJJZFBhdGggfSA9IHNvZnREZWxldGVPcHRpb25zO1xuICAgICAgY29uc3QgZGVsZXRlQnlJc1ZhbGlkID1cbiAgICAgICAgZGVsZXRlZEJ5ICYmIHJlcXVlc3RVc2VySWRQYXRoICYmIHR5cGVvZiByZXF1ZXN0VXNlcklkUGF0aCA9PSBcInN0cmluZ1wiO1xuICAgICAgc29mdERlbGV0ZU9wdGlvbnMuZGVsZXRlZEJ5ID0gZGVsZXRlQnlJc1ZhbGlkO1xuICAgICAgY29uc3QgaW5kZXhGaWVsZHMgPSBbXCJkZWxldGVkXCJdO1xuICAgICAgaWYgKHNvZnREZWxldGVPcHRpb25zLmRlbGV0ZWRBdCkgaW5kZXhGaWVsZHMucHVzaChcImRlbGV0ZWRBdFwiKTtcbiAgICAgIGlmIChzb2Z0RGVsZXRlT3B0aW9ucy5kZWxldGVkQnkpIGluZGV4RmllbGRzLnB1c2goXCJkZWxldGVkQnlcIik7XG4gICAgICBzb2Z0RGVsZXRlT3B0aW9ucy5pbmRleEZpZWxkcyA9IGluZGV4RmllbGRzO1xuICAgIH1cbiAgICBzY2hlbWEucGx1Z2luKHJlcXVpcmUoXCJtb25nb29zZS1kZWxldGVcIiksIHNvZnREZWxldGVPcHRpb25zKTtcbiAgICBzY2hlbWEuc3RhdGljcy5zb2Z0RGVsZXRlID0gc29mdERlbGV0ZUZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuICAgIHNjaGVtYS5zdGF0aWNzLnJlaGFiaWxpdGF0ZSA9IHJlaGFiaWxpdGF0ZUZhY3RvcnkoX3BsdWdpbk9wdGlvbnMpO1xuICB9XG5cbiAgLy8gcmVnaXN0ZXIgSGVscGVyIEZ1bmN0aW9uc1xuICBzY2hlbWEuc3RhdGljcy5icmVhZEhlbHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaGVscGVyRmFjdG9yeShzY2hlbWEsIF9wbHVnaW5PcHRpb25zKTtcbiAgfTtcbn1cbmNvbnN0IGRlZmF1bHRHbG9iYWxQbHVnaW5PcHRpb25zOlBhcnRpYWw8TW9uZ29vc2VCcmVhZE9wdGlvbnM+ID0ge31cbm1vbmdvb3NlQnJlYWQucHJvdG90eXBlLm9wdGlvbnMgPSBkZWZhdWx0R2xvYmFsUGx1Z2luT3B0aW9uc1xuXG4vKiogQG1vZHVsZSAqL1xubW9kdWxlLmV4cG9ydHMgPSBtb25nb29zZUJyZWFkO1xubW9kdWxlLmV4cG9ydHMubW9uZ29vc2VCcmVhZCA9IG1vbmdvb3NlQnJlYWQ7XG5tb2R1bGUuZXhwb3J0cy5Nb25nb29zZUJyZWFkRXJyb3IgPSByZXF1aXJlKFwiLi9Nb25nb29zZUJyZWFkRXJyb3JcIik7XG4iXSwibWFwcGluZ3MiOiJtbkNBRU0sQ0FBQUEsYUFBYSxDQUFHQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FDcERDLGFBQWEsQ0FBR0QsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQ3BERSxXQUFXLENBQUdGLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUNoREcsV0FBVyxDQUFHSCxPQUFPLENBQUMseUJBQXlCLENBQUMsQ0FDaERJLFVBQVUsQ0FBR0osT0FBTyxDQUFDLHdCQUF3QixDQUFDLENBQzlDSyxjQUFjLENBQUdMLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUN0RE0saUJBQWlCLENBQUdOLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQyxDQUM1RE8sbUJBQW1C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